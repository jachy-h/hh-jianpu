# 简谱入门 - 像发微信一样简单

> 💡 **不会看五线谱？没关系！** 简谱只用 1-7 这几个数字，就像小时候学的"哆来咪"，三分钟上手！

---

## 🎯 零基础入门：你的第一首歌

### 30秒快速体验

**试试在编辑器里输入这几个数字**（记得用空格隔开）：

```
1 1 5 5 6 6 5
```

点击播放 ▶️，听到了吗？这就是《小星星》的第一句！

---

### 理解简谱的核心：数字就是音高

还记得小时候唱的"哆 来 咪 发 嗦 啦 西"吗？

```
1   2   3   4   5   6   7
↓   ↓   ↓   ↓   ↓   ↓   ↓
哆  来  咪  发  嗦  啦  西
do  re  mi  fa sol la  si
C   D   E   F   G   A   B
```

**就这么简单！** 
- 想唱"哆"，就写 `1`
- 想唱"嗦"，就写 `5`
- 从头到尾就是 `1 2 3 4 5 6 7`

---

## 🎼 第一课：完整的《小星星》

### 跟着一步步写

**1️⃣ 先告诉别人你要写什么歌**（可选，但建议加上）

```
标题: 小星星
速度: 80
```

**2️⃣ 输入旋律**（用空格把数字分开，用 `|` 分隔小节）

```
1 1 5 5 | 6 6 5 - |
```

🎵 **试试播放！** 是不是听到"一闪一闪亮晶晶"了？

**3️⃣ 继续写完整首歌**

```
标题: 小星星
速度: 80

1 1 5 5 | 6 6 5 - |
4 4 3 3 | 2 2 1 - |
5 5 4 4 | 3 3 2 - |
5 5 4 4 | 3 3 2 - |
1 1 5 5 | 6 6 5 - |
4 4 3 3 | 2 2 1 - |
```

🎉 **恭喜你！** 你已经完成第一首简谱了！

---

## 🎶 第二课：让音符动起来（节奏快慢）

### 慢拍子：用 `-` 拉长音

想让一个音唱得久一点？加一个 `-`

```
5 -     （嗦～～，唱2拍）
1 - - - （哆～～～～，唱4拍）
```

**记住规则**：
- `5` = 1拍（正常速度）
- `5 -` = 2拍（加1个 `-`）
- `5 - -` = 3拍（加2个 `-`）
- `5 - - -` = 4拍（加3个 `-`）

### 快节奏：用 `/` 加速

想让音符唱得快？加减时线 `/`

```
1/2/3/    （快速念：哆来咪）
5/5/5/5/  （像心跳一样：嗦嗦嗦嗦）
```

**记住规则**：
- `1` = 1拍（正常）
- `1/` = 半拍（快1倍）
- `1//` = 四分之一拍（快2倍）

### 实战：《两只老虎》

```
标题: 两只老虎
速度: 120

1 2 3 1 | 1 2 3 1 |
3 4 5 - | 3 4 5 - |
5/6 5/4 3 1 | 5/6 5/4 3 1 |
1 5 1 - | 1 5 1 - |
```

---

## 🎵 第三课：音符的"高低"（八度）

### 同一个音，可以唱得高或低

想象楼梯：
- **低楼层**（低八度）：在数字前加 `.`
- **标准层**（标准音）：直接写数字
- **高楼层**（高八度）：在数字前加 `'`

```
.1   （低音哆，像男低音）
1    （中音哆，正常音高）
'1   （高音哆，像女高音）
''1  （超高音哆，再高一层）
```

### 实战：跨越八度

```
.5 .6 .7 1 2 3 4 5 6 7 '1 '2 '3 '4 '5
```

播放试试，听到音阶一路向上爬了吗？

---

## 🎵 完整功能清单（查阅手册）

## 🎵 完整功能清单（查阅手册）

当你熟悉了基础操作，这里是所有功能的详细说明：

---

### 📋 1. 歌曲信息（写在最开头）

告诉别人这是什么歌、谁写的：

```
标题: 送别
作曲: 约翰·奥德威
作词: 李叔同
速度: 80
拍号: 4/4
调号: C
```

| 信息项 | 中文写法 | 英文写法 | 说明 |
|--------|----------|----------|------|
| 歌名 | 标题 | title | 这首歌叫什么 |
| 作曲 | 作曲 | composer | 谁写的旋律 |
| 作词 | 作词 | lyricist | 谁写的歌词 |
| 速度 | 速度 | tempo | 每分钟多少拍（60=慢，120=快） |
| 拍号 | 拍号 | time | 4/4 = 每小节4拍 |
| 调号 | 调号 | key | C = C大调 |

💡 **新手提示**：这些都不是必须的！只写旋律也能播放。

---

### 🎹 2. 基础音符（7个数字走天下）

```
1   2   3   4   5   6   7
哆  来  咪  发  嗦  啦  西
```

**最简单的练习**：从低到高

```
1 2 3 4 5 6 7 '1
```

**从高到低**：

```
'1 7 6 5 4 3 2 1
```

---

### 🎚️ 3. 高低音（像电梯上下楼）

**往上爬楼梯**（用 `'`）：

```
1    （一楼：标准音）
'1   （二楼：高一个八度）
''1  （三楼：高两个八度）
```

**往下走**（用 `.`）：

```
1    （一楼：标准音）
.1   （地下一层：低一个八度）
..1  （地下二层：低两个八度）
```

**完整的音阶**：

```
..5 .6 .7 1 2 3 4 5 6 7 '1 '2 '3
```

💡 **记忆口诀**：撇号向上飘，点点往下掉。

---

### ⏱️ 4. 节奏控制（长短快慢）

#### 拉长音符（慢下来）

用 `-` 延长，每个 `-` 加 1 拍：

```
1       → 唱1拍（哆）
1 -     → 唱2拍（哆～）
1 - -   → 唱3拍（哆～～）
1 - - - → 唱4拍（哆～～～）
```

**实战：生日快乐歌的长音**

```
5 5 6 5 '1 7 -     （最后的"你"拉长2拍）
```

#### 加快音符（快起来）

用 `/` 减半，每个 `/` 快一倍：

```
1      → 1拍（正常速度）
1/     → 半拍（快1倍）
1//    → 四分之一拍（快2倍）
1//_   → 八分之一拍（快3倍）
```

**实战：快速音阶**

```
1/2/3/4/5/6/7/'1/
```

#### 🎯 实用技巧：连续快音符

**有空格** = 分开的音符

```
1/ 2/ 3/ 4/   （一个一个念：哆、来、咪、发）
```

**没空格** = 用线连起来

```
1/2/3/4/      （连在一起快速念：哆来咪发）
```

---

### 🎤 5. 休止符（安静一下）

用 `0` 表示"不唱、不奏"：

```
1 2 3 0     （唱完"咪"后停1拍）
1 0 0 0     （唱完"哆"后停3拍）
5/0/5/0/    （嗦、停、嗦、停，半拍节奏）
```

**实战：节奏感强的旋律**

```
1 0 2 0 3 0 5 -
```

---

### 🎵 6. 升降号（黑键白键）

钢琴上的黑键，用这两个符号：

- `#` = 升高半音（往右边黑键）
- `b` = 降低半音（往左边黑键）

**写在数字前面**：

```
#4    （升fa，钢琴上 F 右边的黑键）
b7    （降si，钢琴上 B 左边的黑键）
```

**半音阶练习**（12个键全走一遍）：

```
1 #1 2 #2 3 4 #4 5 #5 6 #6 7 '1
```

💡 **新手提示**：大部分流行歌不需要升降号。

---

### ✍️ 7. 添加歌词（让简谱变成卡拉OK）

#### 最简单：一字对一音

在音符下面写歌词行（以 `C` 开头）：

```
P 1 1 5 5 | 6 6 5 - |
C 一 闪 一 闪 亮 晶 晶 _
```

**规则**：
- `P` = 旋律行（Pitches），可选
- `C` = 歌词行（Chinese）
- 一个汉字对一个音符
- 用 `_` 跳过不唱的音（如延长线）

#### 进阶：多字一音

有些字需要在一个音上唱完，用 `()` 括起来：

```
P 1 2 3 4 |
C (我的) 祖 国 心
```

效果：
- 音符 1 唱"我的"
- 音符 2 唱"祖"
- 音符 3 唱"国"
- 音符 4 唱"心"

#### 完整示例：小星星带歌词

```
标题: 小星星
速度: 80

P 1 1 5 5 | 6 6 5 - |
C 一 闪 一 闪 亮 晶 晶 _

P 4 4 3 3 | 2 2 1 - |
C 满 天 都 是 小 星 星 _
```

💡 **提示**：休止符 `0` 和延长线 `-` 不需要歌词，用 `_` 占位。

---

### 📏 8. 小节线（把音符分段）

用 `|` 分隔每个小节（像诗歌的分行）：

```
1 2 3 4 | 5 6 7 '1 | '1 0 0 0 |
```

**4/4拍的规则**：每小节加起来要等于4拍

```
✅ 正确：1 2 3 4 |       （1+1+1+1 = 4拍）
✅ 正确：1 - 3 - |       （2+2 = 4拍）
✅ 正确：1/2/3/4/5/6/7/'1 | （8个半拍 = 4拍）
❌ 错误：1 2 3 |         （只有3拍）
```

💡 **新手提示**：小节线不是必须的，但能让谱子更清晰。

---

### 🎭 9. 倚音（装饰音符）

给音符加个"花边"，用 `^` 开头：

```
^3 5     （"咪"快速装饰一下，然后唱"嗦"）
```

**视觉效果**：小小的音符在大音符前面

**重要特性**：
- ⏱️ 倚音不占节拍（从下一个音符"借"时间）
- 🎵 播放时很短促（约50毫秒）
- ✨ 可以加八度：`^'1`、`^.7`
- ♯♭ 可以加升降号：`^#4`、`^b7`

**实战示例**：

```
标题: 倚音练习
调号: C
拍号: 4/4

^3 5 - ^6 5 | ^'1 7 - 6 5 |
```

💡 **理解倚音**：想象你唱"啊～"（5）之前快速带过一个"呀"（^3）。

---

### 🌬️ 10. 换气记号（给歌手的提示）

用 `v` 或 `V` 标记在哪里呼吸：

```
1 2 3 4 v 5 6 7 '1 v
```

**特点**：
- 不占用时间（0拍）
- 只是视觉提示
- 不会分配歌词

💡 **新手提示**：主要给唱歌的人看，乐器演奏不需要。

---

### 🎼 11. 连线（让音符连起来）

#### 延音线（同一个音拉长）

**已经学过了**，就是 `-`：

```
1 - - -   （一个"哆"持续4拍）
```

#### 连音线（八分音符连在一起）

**控制方法：空格**

```
1/2/3/4/   （四个音用横线连）
1/ 2/ 3/ 4/ （四个音各自独立）
1/2/ 3/4/  （两两分组）
```

#### 圆滑线（不同音连贯演奏）

用 `()` 把音符括起来：

```
(1 2 3) 4 | (5 6 7) '1 |
```

**视觉效果**：弧形曲线连接这些音

**用途**：告诉演奏者要流畅地从一个音过渡到下一个音

**高级技巧**：
- ✅ 可以跨小节：`(1 2 | 3 4)`
- 🎨 播放时会高亮
- 📐 至少要2个音符

---

## 🎓 学习路径推荐

### 🌟 第一周：熟悉数字

**目标**：记住 1-7 对应哆来咪发嗦啦西

**练习**：
1. 输入 `1 2 3 4 5 6 7 '1`，反复播放
2. 试着改数字，听听音高变化
3. 完成《小星星》第一行

### 🌟 第二周：掌握节奏

**目标**：会用 `-` 和 `/` 控制快慢

**练习**：
1. 对比 `1 2 3 4` 和 `1/2/3/4/`
2. 练习 `1 - 3 -` 和 `1 - - -`
3. 完成《两只老虎》

### 🌟 第三周：探索八度

**目标**：理解 `'` 和 `.` 的用法

**练习**：
1. 输入 `.5 .6 .7 1 2 3 '1 '2 '3`
2. 找一首需要高低音的歌
3. 尝试《欢乐颂》

### 🌟 第四周：完整歌曲

**目标**：输入一首完整的歌

**练习**：
1. 选一首喜欢的流行歌
2. 逐行输入旋律
3. 添加歌词（可选）

---

## 💡 常见问题解答

### ❓ 为什么我的音符不播放？

**检查清单**：
- ✅ 音符之间有空格吗？`1 2 3`（对），`123`（错）
- ✅ 只用了 0-7 这些数字吗？
- ✅ 小节线 `|` 两边有空格吗？

### ❓ 怎么知道一个音要唱几拍？

**计算方法**：
- 1 个数字 = 1拍
- 1 个 `-` = 加1拍
- 1 个 `/` = 减半

**例子**：
```
1        = 1拍
1 -      = 2拍（1+1）
1 - -    = 3拍（1+1+1）
1/       = 0.5拍
1//      = 0.25拍
```

### ❓ `.1` 和 `1.` 有什么区别？

- `.1` = 低八度的"哆"（点在前面）
- `1.` = 附点音符（点在后面，但**建议用 `-` 代替**）

**推荐写法**：
```
✅ .1 = 低音哆
✅ 1 - = 附点音符（拉长1.5倍）
⚠️ 1. = 容易混淆，不建议
```

### ❓ 小节线一定要加吗？

**不是必须的**，但强烈建议：
- ✅ 便于阅读
- ✅ 方便数拍子
- ✅ 容易找错误

```
# 不用小节线（可以，但难读）
1 2 3 4 5 6 7 '1 '1 7 6 5 4 3 2 1

# 用小节线（清晰明了）
1 2 3 4 | 5 6 7 '1 | '1 7 6 5 | 4 3 2 1 |
```

### ❓ 升降号 `#` 和 `b` 写在前面还是后面？

**一定写在前面**：

```
✅ #4    （对）
✅ b7    （对）
❌ 4#    （错）
❌ 7b    （错）
```

### ❓ 如何表示同音延长？

用 `-`，不用重复数字：

```
✅ 1 - - -   （一个音持续4拍）
❌ 1 1 1 1   （四个独立的音）
```

### ❓ 歌词对不上怎么办？

**三个技巧**：
1. 用 `_` 跳过不唱的音（休止符、延长线）
2. 用 `(多字)` 把多个字放一个音上
3. 检查歌词数量 = 实际音符数量（不含休止符）

```
# 例子：4个音，3个字
P 1 2 3 - |
C 我 爱 你 _   （延长线不唱，用_占位）
```

---

## 🎯 快速参考卡片（打印出来贴电脑旁）

```
┌─────────────────────────────────────────┐
│          简谱速查表                      │
├─────────────────────────────────────────┤
│ 数字：     1 2 3 4 5 6 7                │
│ 唱名：     哆来咪发嗦啦西                 │
│                                         │
│ 高八度：   '1 '2 '3 （撇号向上飘）        │
│ 低八度：   .1 .2 .3 （点点往下掉）        │
│                                         │
│ 拉长：     1 -（加1拍） 1 - -（加2拍）    │
│ 加快：     1/（半拍） 1//（1/4拍）        │
│                                         │
│ 休止：     0（停1拍） 0/（停半拍）        │
│ 升降：     #4（升） b7（降）             │
│                                         │
│ 小节线：   |                             │
│ 歌词：     C 一 闪 一 闪                 │
│ 分组：     C (我的) 祖 国                │
│ 占位：     C 星 _ _ 光                   │
└─────────────────────────────────────────┘
```

---

## 🎵 精选练习曲目（难度递增）

### ⭐ 入门级（只用基础音符）

**小蜜蜂**
```
5 3 3 - | 4 2 2 - | 1 2 3 4 | 5 5 5 - |
```

**玛丽有只小羊羔**
```
3 2 1 2 | 3 3 3 - | 2 2 2 - | 3 5 5 - |
```

### ⭐⭐ 初级（加入节奏变化）

**小星星**（完整版）
```
1 1 5 5 | 6 6 5 - | 4 4 3 3 | 2 2 1 - |
5 5 4 4 | 3 3 2 - | 5 5 4 4 | 3 3 2 - |
1 1 5 5 | 6 6 5 - | 4 4 3 3 | 2 2 1 - |
```

**两只老虎**
```
1 2 3 1 | 1 2 3 1 | 3 4 5 - | 3 4 5 - |
5/6 5/4 3 1 | 5/6 5/4 3 1 | 1 5 1 - | 1 5 1 - |
```

### ⭐⭐⭐ 中级（包含八度）

**欢乐颂**
```
3 3 4 5 | 5 4 3 2 | 1 1 2 3 | 3 2 2 - |
3 3 4 5 | 5 4 3 2 | 1 1 2 3 | 2 1 1 - |
```

**送别**（长亭外）
```
5 3 3 | 5 3 3 | '1 6 5 | 6 - - |
5 6 '1 | '2 '1 6 | 5 6 5 | 3 - - |
```

### ⭐⭐⭐⭐ 高级（综合技巧）

**天空之城**（前奏）
```
6 7 '1 7 | 5 - 3 - | 4 3 2 3 | 1 - 1 - |
3 - 3 - | 6 5 2 - | 5 - 3 - | 4 3 2 3 | 1 - - - |
```

---

## 🛠️ 调试技巧

### 🔍 音符不显示？

**常见原因**：
1. ❌ 忘记加空格：`123` → ✅ `1 2 3`
2. ❌ 用了错误符号：`1-2-3` → ✅ `1 - 2 - 3 -`（延长线）
3. ❌ 小节线没空格：`1 2|3 4` → ✅ `1 2 | 3 4`

**快速检查**：
```
✅ 正确示例
1 2 3 4 | 5 6 7 '1 |

❌ 错误示例
123 4|5 6 7'1    （没空格）
```

### 🎵 播放没声音？

**排查步骤**：
1. 检查浏览器音量（右上角）
2. 检查系统音量
3. 试试点击"播放"按钮再暂停
4. 刷新页面重试

### 📝 歌词对不上？

**对齐检查表**：
```
# 例子：5个音符，需要5个歌词元素
P 1 2 3 0 5 |
C 一 二 三 _ 五    ✅（用_跳过休止符）
C 一 二 三 四 五    ❌（休止符0不需要歌词）

# 延长线同样要跳过
P 1 - 2 - |
C 一 _ 二 _        ✅（延长线用_）
C 一 二            ❌（数量不对）
```

### 💡 找不到问题？

试试这个万能调试法：
1. **简化简化再简化**：删到只剩几个音符
2. **逐步添加**：一行一行加回去
3. **对比示例**：点"加载示例"看标准写法
4. **重新输入**：有时候是隐藏字符导致的

---

## 🎁 额外福利

### 🎹 钢琴对照表

如果你会弹钢琴，这是简谱和钢琴键的对应：

```
钢琴：C   D   E   F   G   A   B   C
简谱：1   2   3   4   5   6   7   '1
唱名：哆  来  咪  发  嗦  啦  西  哆
```

中央C（钢琴中间的C键）= 简谱的 `1`

### 🎼 五线谱对照

如果你学过五线谱：

```
五线谱高音谱表：
━━━━━━━━  F 线（'4）
    '3
━━━━━━━━  E 线（'2）
    '1
━━━━━━━━  D 线（7）
     6
━━━━━━━━  C 线（5）
     4
━━━━━━━━  A 线（3）
     2
━━━━━━━━  G 线（1）
```

### 📱 移动端技巧

在手机上使用：
- 🔄 横屏编辑更方便
- ⌨️ 用数字键盘输入更快
- 👆 双指缩放看曲谱
- 📋 可以从其他应用复制粘贴

### ⌨️ 键盘快捷键

**编辑器**：
- `Ctrl/Cmd + S`：保存（浏览器功能）
- `Ctrl/Cmd + A`：全选
- `Ctrl/Cmd + Z`：撤销
- `Ctrl/Cmd + Shift + Z`：重做

**播放控制**：
- `空格键`：播放/暂停（未来功能）
- `Esc`：停止（未来功能）

---

## 🌟 进阶学习资源

### 📚 推荐书籍
- 《简谱入门与提高》 - 基础理论
- 《流行歌曲简谱100首》 - 实战练习

### 🌐 在线资源
- [简谱维基百科](https://zh.wikipedia.org/wiki/简谱) - 历史与理论
- [虫虫简谱网](http://www.ccjt.net) - 海量曲谱
- [中国曲谱网](http://www.qupu123.com) - 专业曲库

### 🎵 音乐理论小课堂

**想深入了解？** 这些概念能帮你更好理解简谱：

| 概念 | 简单解释 | 对应简谱 |
|------|----------|----------|
| **音高** | 声音的高低 | 数字1-7 |
| **节拍** | 时间的单位 | 一拍=1个四分音符 |
| **拍号** | 每小节几拍 | 4/4 = 每小节4拍 |
| **速度** | 一分钟多少拍 | tempo: 120（每分钟120拍）|
| **八度** | 音高距离 | ' 和 . |
| **半音** | 最小音高差 | # 和 b |
| **时值** | 音符长度 | - 和 / |

---

## 🚀 下一步

### 当你熟练后，可以尝试：

✅ **挑战复杂歌曲**：试试周杰伦的《菊花台》  
✅ **自己编曲**：把脑海中的旋律写下来  
✅ **添加和弦**：学习 C、G、Am、F 等和弦  
✅ **分享作品**：导出图片分享给朋友  
✅ **组建乐队**：和朋友一起演奏

### 💌 给开发者反馈

遇到问题？有建议？
- 🐛 报告Bug：[GitHub Issues](https://github.com/你的仓库/issues)
- 💡 功能建议：告诉我们你想要什么功能
- ⭐ 给项目加星：如果觉得好用

---

## 🎊 结语

### 音乐不需要门槛

你不需要：
- ❌ 学五线谱
- ❌ 懂乐理
- ❌ 会乐器

你只需要：
- ✅ 会数 1-7
- ✅ 有耳朵
- ✅ 喜欢音乐

**现在就开始吧！** 在编辑器里输入：

```
1 1 5 5 6 6 5 -
```

按下播放键，享受你创造的第一个旋律 🎵

---

### 📖 文档信息

- **版本**：v2.0（面向初学者重写版）
- **更新日期**：2026年2月9日
- **作者**：HH-Jianpu 产品团队
- **适用人群**：音乐初学者、简谱爱好者、教育工作者

---

### 🎯 快速跳转

- [返回顶部](#简谱入门---像发微信一样简单)
- [零基础入门](#-零基础入门你的第一首歌)
- [完整功能清单](#-完整功能清单查阅手册)
- [练习曲目](#-精选练习曲目难度递增)
- [常见问题](#-常见问题解答)

---

**祝你音乐之旅愉快！** 🎹🎸🎤🎵

有任何问题，随时查阅本文档或联系我们。记住：**音乐的乐趣不在于完美，而在于表达！**

使用 `v` 或 `V` 标记换气位置：

```
1 2 3 4 | 5 v 6 7 | 1' - - - |
```

**视觉效果**：换气记号显示为逗号状符号，提示歌唱或演奏时的换气点。

**规则**：
- 换气记号不占用时值（0 拍）
- 换气记号不会被分配歌词

---

### 9. 倚音（Grace Note / Appoggiatura）

使用 `^` 前缀标记倚音（装饰音）：

```
^4 5 ^6 7 | ^'1 2 ^3 4 |
```

**视觉效果**：倚音显示为小号字体，位于主音符的左上方。

**专业特性**：
- 倚音**不占用独立的节拍时间**，从主音符中“借用”时间
- 因此 `^4 5 6 7` 在 4/4 拍中正好是 4 拍（5、6、7 各 1 拍，4 是装饰音）
- 播放时倚音在主音符之前极短时间（~50ms）发声
- 倚音可以有八度标记：`^'1` `^.7`
- 倚音可以有升降号：`^#4` `^b7`
- 连续倚音：`^3^4 5`（两个倚音，主音是5）

**示例**：

```
标题: 倚音示例
调号: C
拍号: 4/4

^4 5 ^6 5 | ^'1 7 6 5 | ^3 4 ^2 3 | ^5 1 - - |
```

每小节分析（倚音不计入节拍）：
- 小节 1: 5(1拍) + 5(1拍) = 2拍 → **不符合 4/4，需要 4 拍**
- 小节 2: 7(1拍) + 6(1拍) + 5(1拍) = 3拍 → **不符合 4/4，需要 4 拍**
- 小节 3: 4(1拍) + 3(1拍) = 2拍 → **不符合 4/4，需要 4 拍**
- 小节 4: 1(1拍) + -(1拍) + -(1拍) = 3拍 → **不符合 4/4，需要 4 拍**

正确的示例应为：

```
标题: 倚音示例
调号: C
拍号: 4/4

^4 5 - ^6 5 | ^'1 7 - 6 5 | ^3 4 - ^2 3 | ^5 1 - - - |
```

---

### 10. 小节线（Barline）

使用 `|` 分隔小节：

```
1 2 3 4 | 5 6 7 1' | 1' 0 0 0 |
```

**规则**：
- 每个小节线前后可以有空格，也可以没有
- 小节内音符用空格分隔
- 可以在行末省略小节线

---

### 11. 歌词（Lyrics）✨

在音符行后添加歌词行（以 `C` 开头），支持一字对一音、分组、占位符。

#### 11.1 基本语法

**一字对一音**（默认）：

```
P 1 1 5 5 | 6 6 5 - |
C 一 闪 一 闪 亮 晶 晶 _
```

**效果**：每个汉字对应一个有效音符（排除休止符和倚音）。

**说明**：
- `P` 标记旋律行（Pitches，可选）
- `C` 标记歌词行（Chinese lyrics）

#### 11.2 分组：多字对一音

使用 `(多字)` 将多个字符分组到一个音符上：

```
P 1 2 3 4 |
C (我的) 祖 国 心
```

**效果**：
- 音符 1 → "我的"
- 音符 2 → "祖"
- 音符 3 → "国"
- 音符 4 → "心"

#### 11.3 占位符

使用 `/` 跳过对应的音符（不显示歌词）：

```
P 1 2 3 4 |
C 星 _ _ 光
```

**效果**：
- 音符 1 → "星"
- 音符 2 → （无歌词）
- 音符 3 → （无歌词）
- 音符 4 → "光"

#### 11.4 完整示例

```
标题: 小星星
调号: C
拍号: 4/4
速度: 120

P 1 1 5 5 | 6 6 5 - | 4 4 3 3 | 2 2 1 - |
C 一 闪 一 闪 亮 晶 晶 _ 满 天 都 是 小 星 星 _
```

#### 11.5 多行歌词

可以将歌词分多行书写（自动合并）：

```
P 1 2 3 4 | 5 6 7 1' |
C 一 二 三 四
C 五 六 七 八
```

**等价于**：`C 一 二 三 四 五 六 七 八`

#### 11.6 规则说明

- ✅ **有效音符**：只为非倚音的音符分配歌词
- ✅ **跳过休止符**：休止符（`0`）、延长线（`-`）、换气记号（`v`）不分配歌词
- ⚠️ **数量验证**：如果歌词数量与有效音符不匹配，会显示警告（但不阻止渲染）

### 12. 连音线（Beam）

**八分音符连线**：通过**空格控制**分组，无空格的相邻八分音符会自动用横线连接。

| 源码 | 视觉效果 | 说明 |
|------|----------|------|
| `1/ 2/` | 各自独立减时线 | 有空格，分开 |
| `1/2/` | 一条横线连接 | 无空格，连接 |
| `1/2/ 3/4/` | 两条独立横线 | 2+2分组 |
| `1/2/3/4/` | 一条横线连接全部 | 4个全连 |

**示例**：

```
1/2/3/4/ 5/ | 6/7/ 1'_2'_ |
```

**规则**：
- 只有相同时值的音符才能连接（八分+八分，十六分+十六分）
- 小节线 `|` 自动断开连音组
- 空格是分组的唯一控制手段

---

### 13. 圆滑线（Slur）

**语法**：使用小括号 `()` 标记圆滑演奏的音符组。

```
(1 2 3) 4 | (5 6 7) 1' |
```

**视觉效果**：括号内的音符上方会显示弯曲的弧线连接。

**与其他连线的区别**：

| 类型 | 音高关系 | 语法 | 视觉 | 用途 |
|------|----------|------|------|------|
| **延音线**（Tie） | 相同 | `1 -` | 水平直线 | 延长音符时值 |
| **连音线**（Beam） | 任意 | `1/2/` | 音符间横线 | 八分音符分组 |
| **圆滑线**（Slur） | 不同 | `(1 2 3)` | 弧形曲线 | 连贯演奏 |

**特性**：
- ✅ **跨小节支持**：`(1 2 | 3 4)` 可跨越小节线
- ✅ **动态高亮**：播放时，圆滑线会根据音符状态变色
- ✅ **灵活分组**：一行内可有多个圆滑线组

**示例**：

```
标题: 圆滑线示例
调号: C
拍号: 4/4

(1 2 3) 4 | (5 6 | 7 '1) '2 | ('3/ '3/ '2 '1) 7 | '1 - - - |
```

**注意**：
- 圆滑线内必须至少包含2个音符
- 括号必须成对出现
- 暂不支持嵌套圆滑线

---

## 💡 实用示例

### 示例 1：小星星（简单版）

```
标题: 小星星
拍号: 4/4
速度: 80

1 1 5 5 | 6 6 5 - |
4 4 3 3 | 2 2 1 - |
5 5 4 4 | 3 3 2 - |
5 5 4 4 | 3 3 2 - |
1 1 5 5 | 6 6 5 - |
4 4 3 3 | 2 2 1 - |
```

### 示例 2：生日快乐（带减时线）

```
标题: 生日快乐
拍号: 3/4
速度: 100

5 5 | 6 5 1' 7 | 5 5 6 5 2' 1' |
5 5 5' 3' 1' 7 6 | 4' 4' 3' 1' 2' 1' |
```

### 示例 3：欢乐颂（带高低八度）

```
标题: 欢乐颂
composer: Beethoven
拍号: 4/4
速度: 120

3 3 4 5 | 5 4 3 2 |
1 1 2 3 | 3 2 2 - |
3 3 4 5 | 5 4 3 2 |
1 1 2 3 | 2 1 1 - |
```

### 示例 4：复杂节奏（带减时线和延长线）

```
标题: 节奏练习
拍号: 4/4
速度: 100

1/2/3/4/ | 5 - 3 - |
1//1//2//2// | 3/3/4/4/ |
5 - - - | 1' 0 0 0 |
```

---

## 🔍 常见问题

### Q1: 如何区分低八度的 `.` 和附点的 `.`？

**A**: 根据上下文判断：
- 如果 `.` 在音符后面，且该音符不在行首，通常是**低八度**
- 如果需要附点，建议使用**下划线**表示时值（例如 `1 -` 代替 `1.`）

**示例**：
```
1. 1 1' 1   # 1. 是低八度，1' 是高八度
1/ 2/ 3 4   # 1/ 和 2/ 是八分音符
```

### Q2: 下划线可以连续使用吗？

**A**: 可以。每个下划线减半时值：
```
1       # 1 拍（四分音符）
1/      # 0.5 拍（八分音符）
1//     # 0.25 拍（十六分音符）
1//_    # 0.125 拍（三十二分音符）
```

### Q3: 延长线 `-` 可以连续使用吗？

**A**: 可以。每个 `-` 延长 1 拍：
```
1 -         # 2 拍（二分音符）
1 - -       # 3 拍（附点二分音符）
1 - - -     # 4 拍（全音符）
```

### Q4: 升降号可以和八度符号一起用吗？

**A**: 可以。升降号在前，八度符号在后：
```
#4 #4' b7.   # 升 fa、高八度的升 fa、低八度的降 si
```

### Q5: 小节线是必须的吗？

**A**: 不是必须的，但强烈建议使用小节线，便于阅读和理解节奏。

### Q6: 空格有什么要求？

**A**: 空格用于分隔音符，数量不限。**特别注意**：对于八分音符（`1/`），空格还控制连音线分组：
```
1/ 2/     # 有空格，各自独立
1/2/      # 无空格，用横线连接
```

### Q7: 如何表示相同音高的延音线？

**A**: 使用 `-` 延长线：
```
1 - - -   # do 持续 4 拍（等同于全音符）
5 -       # sol 持续 2 拍（等同于二分音符）
```

### Q8: 如何表示不同音高的圆滑线（连线记号）？

**A**: 当前版本暂不支持不同音高的圆滑线渲染。系统主要用于简谱记录和播放，圆滑线属于演奏技法标记，对音高和节奏无影响。未来版本可能添加括号语法 `(1 2 3)` 支持。

---

## ⚡ 快捷输入技巧

### 技巧 1：使用空格对齐

```
1   2   3   4   |   # 每个音符用 3 个空格对齐
5   6   7   1'  |
```

### 技巧 2：小节内分组

```
1 2 | 3 4 | 5 6 | 7 1' |   # 清晰的分组
```

### 技巧 3：复制粘贴重复段落

如果有重复的乐句，可以直接复制粘贴：

```
1 1 5 5 | 6 6 5 - |   # A 段
4 4 3 3 | 2 2 1 - |
1 1 5 5 | 6 6 5 - |   # A 段重复（复制粘贴）
4 4 3 3 | 2 2 1 - |
```

---

## 🎓 学习路径

### 第一阶段：基础音符
1. 尝试输入 `1 2 3 4 5 6 7 1'`
2. 点击播放，听听音高变化

### 第二阶段：简单旋律
1. 输入《小星星》前 4 小节
2. 调整速度，找到合适的节奏

### 第三阶段：节奏变化
1. 尝试使用减时线 `/` 创建八分音符
2. 使用延长线 `-` 创建长音

### 第四阶段：复杂乐曲
1. 添加升降号和八度标记
2. 完整输入一首歌曲

---

## 📚 参考资料

### 简谱基础知识
- [简谱 - 维基百科](https://zh.wikipedia.org/wiki/简谱)
- [中国简谱记谱法](https://baike.baidu.com/item/简谱)

### 音乐理论
- 音程：两个音之间的距离
- 节奏：音符的长短组合
- 拍号：每小节的拍数和单位拍的时值

---

## 🛠️ 调试技巧

### 解析错误

如果输入后没有显示曲谱，检查：

1. **元信息格式**：确保使用 `键: 值` 格式
2. **音符有效性**：只使用 `0-7`、`#`、`b`、`'`、`.`、`/`、`-`、`|`
3. **空格分隔**：音符之间需要空格
4. **小节线**：确保小节线 `|` 独立或两侧有空格

### 播放问题

如果无法播放：

1. **检查浏览器**：确保使用现代浏览器（Chrome、Firefox、Safari、Edge）
2. **音量设置**：检查系统音量和浏览器音量
3. **音符错误**：确保所有音符都有正确的时值

---

## 💬 获取帮助

- **GitHub Issues**: [hh-jianpu/issues](https://github.com/your-org/hh-jianpu/issues)
- **示例曲谱**: 点击「加载示例」按钮查看完整示例
- **文档**: 查看项目 README 和技术文档

---

**文档版本**: v1.0  
**更新日期**: 2026年2月7日  
**作者**: hh-jianpu 产品团队
